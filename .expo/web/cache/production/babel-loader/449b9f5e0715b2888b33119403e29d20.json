{"ast":null,"code":"import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import{NavigationContext,NavigationRouteContext}from'@react-navigation/native';import*as React from'react';import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import View from\"react-native-web/dist/exports/View\";import{useSafeAreaFrame,useSafeAreaInsets}from'react-native-safe-area-context';import Background from\"./Background\";import getDefaultHeaderHeight from\"./Header/getDefaultHeaderHeight\";import HeaderHeightContext from\"./Header/HeaderHeightContext\";import HeaderShownContext from\"./Header/HeaderShownContext\";export default function Screen(props){var dimensions=useSafeAreaFrame();var insets=useSafeAreaInsets();var isParentHeaderShown=React.useContext(HeaderShownContext);var parentHeaderHeight=React.useContext(HeaderHeightContext);var focused=props.focused,_props$modal=props.modal,modal=_props$modal===void 0?false:_props$modal,header=props.header,_props$headerShown=props.headerShown,headerShown=_props$headerShown===void 0?true:_props$headerShown,headerTransparent=props.headerTransparent,_props$headerStatusBa=props.headerStatusBarHeight,headerStatusBarHeight=_props$headerStatusBa===void 0?isParentHeaderShown?0:insets.top:_props$headerStatusBa,navigation=props.navigation,route=props.route,children=props.children,style=props.style;var _React$useState=React.useState(function(){return getDefaultHeaderHeight(dimensions,modal,headerStatusBarHeight);}),_React$useState2=_slicedToArray(_React$useState,2),headerHeight=_React$useState2[0],setHeaderHeight=_React$useState2[1];return React.createElement(Background,{accessibilityElementsHidden:!focused,importantForAccessibility:focused?'auto':'no-hide-descendants',style:[styles.container,style]},React.createElement(View,{style:styles.content},React.createElement(HeaderShownContext.Provider,{value:isParentHeaderShown||headerShown!==false},React.createElement(HeaderHeightContext.Provider,{value:headerShown?headerHeight:parentHeaderHeight!=null?parentHeaderHeight:0},children))),headerShown?React.createElement(NavigationContext.Provider,{value:navigation},React.createElement(NavigationRouteContext.Provider,{value:route},React.createElement(View,{onLayout:function onLayout(e){var height=e.nativeEvent.layout.height;setHeaderHeight(height);},style:headerTransparent?styles.absolute:null},header))):null);}var styles=StyleSheet.create({container:{flex:1,flexDirection:'column-reverse'},content:{flex:1},absolute:{position:'absolute',top:0,left:0,right:0}});","map":{"version":3,"sources":["Screen.tsx"],"names":["NavigationContext","NavigationRouteContext","React","useSafeAreaFrame","useSafeAreaInsets","Background","getDefaultHeaderHeight","HeaderHeightContext","HeaderShownContext","Screen","props","dimensions","insets","isParentHeaderShown","useContext","parentHeaderHeight","focused","modal","header","headerShown","headerTransparent","headerStatusBarHeight","top","navigation","route","children","style","headerHeight","setHeaderHeight","useState","styles","container","content","e","height","nativeEvent","layout","absolute","StyleSheet","create","flex","flexDirection","position","left","right"],"mappings":"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","sourceRoot":"../../src","sourcesContent":["import { NavigationContext, NavigationRouteContext } from '@react-navigation/native';\nimport * as React from 'react';\nimport { StyleSheet, View } from 'react-native';\nimport { useSafeAreaFrame, useSafeAreaInsets } from 'react-native-safe-area-context';\nimport Background from './Background';\nimport getDefaultHeaderHeight from './Header/getDefaultHeaderHeight';\nimport HeaderHeightContext from './Header/HeaderHeightContext';\nimport HeaderShownContext from './Header/HeaderShownContext';\nexport default function Screen(props) {\n  const dimensions = useSafeAreaFrame();\n  const insets = useSafeAreaInsets();\n  const isParentHeaderShown = React.useContext(HeaderShownContext);\n  const parentHeaderHeight = React.useContext(HeaderHeightContext);\n  const {\n    focused,\n    modal = false,\n    header,\n    headerShown = true,\n    headerTransparent,\n    headerStatusBarHeight = isParentHeaderShown ? 0 : insets.top,\n    navigation,\n    route,\n    children,\n    style\n  } = props;\n  const [headerHeight, setHeaderHeight] = React.useState(() => getDefaultHeaderHeight(dimensions, modal, headerStatusBarHeight));\n  return /*#__PURE__*/React.createElement(Background, {\n    accessibilityElementsHidden: !focused,\n    importantForAccessibility: focused ? 'auto' : 'no-hide-descendants',\n    style: [styles.container, style]\n  }, /*#__PURE__*/React.createElement(View, {\n    style: styles.content\n  }, /*#__PURE__*/React.createElement(HeaderShownContext.Provider, {\n    value: isParentHeaderShown || headerShown !== false\n  }, /*#__PURE__*/React.createElement(HeaderHeightContext.Provider, {\n    value: headerShown ? headerHeight : parentHeaderHeight ?? 0\n  }, children))), headerShown ? /*#__PURE__*/React.createElement(NavigationContext.Provider, {\n    value: navigation\n  }, /*#__PURE__*/React.createElement(NavigationRouteContext.Provider, {\n    value: route\n  }, /*#__PURE__*/React.createElement(View, {\n    onLayout: e => {\n      const {\n        height\n      } = e.nativeEvent.layout;\n      setHeaderHeight(height);\n    },\n    style: headerTransparent ? styles.absolute : null\n  }, header))) : null);\n}\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    flexDirection: 'column-reverse'\n  },\n  // This is necessary to avoid applying 'column-reverse' to screen content\n  content: {\n    flex: 1\n  },\n  absolute: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0\n  }\n});\n//# sourceMappingURL=Screen.js.map"]},"metadata":{},"sourceType":"module"}