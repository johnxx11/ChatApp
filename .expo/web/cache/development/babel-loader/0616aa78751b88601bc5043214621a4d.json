{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useEffect, useLayoutEffect, useState } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport { StatusBar } from \"expo-status-bar\";\nimport { Avatar } from 'react-native-elements';\nimport CustomListItem from \"./components/CustomListItem\";\nimport { Entypo, FontAwesome } from \"@expo/vector-icons\";\nimport { auth, db } from \"../firebase\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar HomeScreen = function HomeScreen(_ref) {\n  var navigation = _ref.navigation;\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    chats = _useState2[0],\n    setChats = _useState2[1];\n  var signOutUser = function signOutUser() {\n    auth.signOut().then(function () {\n      navigation.replace(\"Login\");\n    });\n  };\n  useEffect(function () {\n    var unsubscribe = db.collection('chats').onSnapshot(function (snapshot) {\n      return setChats(snapshot.docs.map(function (doc) {\n        return {\n          id: doc.id,\n          data: doc.data()\n        };\n      }));\n    });\n    return unsubscribe;\n  }, []);\n  useLayoutEffect(function () {\n    navigation.setOptions({\n      title: \"\",\n      headerStyle: {\n        backgroundColor: \"#191970\"\n      },\n      headerTitleStyle: {\n        color: \"white\"\n      },\n      headerTintColor: \"white\",\n      headerBackVisible: false,\n      headerLeft: function headerLeft() {\n        var _auth$currentUser, _auth$currentUser2;\n        return _jsxs(View, {\n          style: {\n            left: -2,\n            bottom: 3,\n            flexDirection: \"row\",\n            width: 75,\n            justifyContent: \"space-between\"\n          },\n          children: [_jsx(Avatar, {\n            rounded: true,\n            source: {\n              uri: auth == null ? void 0 : (_auth$currentUser = auth.currentUser) == null ? void 0 : _auth$currentUser.photoURL\n            }\n          }), _jsx(Text, {\n            style: styles.userName,\n            children: auth == null ? void 0 : (_auth$currentUser2 = auth.currentUser) == null ? void 0 : _auth$currentUser2.displayName\n          })]\n        });\n      },\n      headerRight: function headerRight() {\n        return _jsxs(View, {\n          style: {\n            left: 5,\n            bottom: 3,\n            flexDirection: \"row\",\n            width: 70,\n            justifyContent: \"space-between\"\n          },\n          children: [_jsx(TouchableOpacity, {\n            children: _jsx(Entypo, {\n              onPress: function onPress() {\n                return navigation.navigate(\"AddChat\");\n              },\n              name: \"new-message\",\n              size: 24,\n              color: \"#FFF\"\n            })\n          }), _jsx(TouchableOpacity, {\n            onPress: signOutUser,\n            activeOpacity: 0.5,\n            children: _jsx(FontAwesome, {\n              name: \"sign-out\",\n              size: 27,\n              color: \"#FFF\"\n            })\n          })]\n        });\n      }\n    });\n  }, [navigation]);\n  var enterChat = function enterChat(id, chatName) {\n    navigation.navigate('Chat', {\n      id: id,\n      chatName: chatName\n    });\n  };\n  return _jsxs(SafeAreaView, {\n    children: [_jsx(StatusBar, {\n      style: \"light\"\n    }), _jsx(ScrollView, {\n      style: styles.container,\n      children: chats.map(function (_ref2) {\n        var id = _ref2.id,\n          chatName = _ref2.data.chatName;\n        return _jsx(CustomListItem, {\n          id: id,\n          chatName: chatName,\n          enterChat: enterChat\n        }, id);\n      })\n    })]\n  });\n};\nexport default HomeScreen;\nvar styles = StyleSheet.create({\n  container: {\n    height: '100%'\n  },\n  userName: {\n    flexDirection: \"row\",\n    color: \"white\",\n    fontWeight: \"600\",\n    fontSize: 39,\n    alignSelf: \"center\",\n    marginStart: 10,\n    justifyContent: \"center\"\n  }\n});","map":{"version":3,"names":["React","useEffect","useLayoutEffect","useState","StatusBar","Avatar","CustomListItem","Entypo","FontAwesome","auth","db","HomeScreen","navigation","chats","setChats","signOutUser","signOut","then","replace","unsubscribe","collection","onSnapshot","snapshot","docs","map","doc","id","data","setOptions","title","headerStyle","backgroundColor","headerTitleStyle","color","headerTintColor","headerBackVisible","headerLeft","left","bottom","flexDirection","width","justifyContent","uri","currentUser","photoURL","styles","userName","displayName","headerRight","navigate","enterChat","chatName","container","StyleSheet","create","height","fontWeight","fontSize","alignSelf","marginStart"],"sources":["/Users/johnwu/ChatApp/ChatApp/ChatApp/screens/HomeScreen.js"],"sourcesContent":["import React, { useEffect, useLayoutEffect, useState }from 'react';\nimport { StyleSheet, View, Text, SafeAreaView, ScrollView, TouchableOpacity } from 'react-native';\nimport { StatusBar } from \"expo-status-bar\";\nimport { Avatar } from 'react-native-elements';\nimport CustomListItem from './components/CustomListItem';\nimport { Entypo, FontAwesome } from \"@expo/vector-icons\";\nimport { auth, db } from \"../firebase\";\n\nconst HomeScreen = ({ navigation }) => {\n    const [chats, setChats] = useState([]);\n\n    const signOutUser = () => {\n        auth.signOut().then(() => {\n            navigation.replace(\"Login\")\n        });\n    };\n\n    useEffect(() => {\n        const unsubscribe = db.collection('chats').onSnapshot(snapshot => (\n            setChats(snapshot.docs.map(doc => ({\n                id: doc.id,\n                data: doc.data()\n            })))\n        ));\n        return unsubscribe;\n    }, []);\n\n    useLayoutEffect(() => {\n        navigation.setOptions({\n            title: \"\",\n            headerStyle: { backgroundColor: \"#191970\" },\n            headerTitleStyle: { color: \"white\" },\n            headerTintColor: \"white\",\n            headerBackVisible: false,\n            \n            headerLeft: () => (\n                <View style={{ \n                    left: -2, \n                    bottom: 3,                    \n                    flexDirection: \"row\",\n                    width: 75,\n                    justifyContent: \"space-between\", \n                }}>\n                    <Avatar rounded source={{ uri: auth?.currentUser?.photoURL}}/>\n                    <Text style={styles.userName}>{auth?.currentUser?.displayName}</Text>\n                </View>\n            ),\n            headerRight: () => (\n                <View style={{\n                    left: 5,\n                    bottom: 3,   \n                    flexDirection: \"row\",\n                    width: 70,\n                    justifyContent: \"space-between\",\n                    \n                }}>\n                    <TouchableOpacity>\n                        <Entypo onPress={() => navigation.navigate(\"AddChat\")} name=\"new-message\" size={24} color=\"#FFF\" />\n                    </TouchableOpacity>\n                    <TouchableOpacity onPress={signOutUser} activeOpacity={0.5}>\n                        <FontAwesome name=\"sign-out\" size={27} color=\"#FFF\"/>\n                    </TouchableOpacity>\n                </View>\n            ),\n        });\n    }, [navigation]);\n\n    const enterChat = (id, chatName) => {\n        navigation.navigate('Chat', {\n            id: id,\n            chatName: chatName,\n        });\n    };\n\n    return (\n      <SafeAreaView>\n        <StatusBar style=\"light\" />\n        <ScrollView style={styles.container}>\n            {chats.map(({id, data: { chatName }}) => (\n                <CustomListItem \n                    key={id} \n                    id={id} \n                    chatName={chatName} \n                    enterChat={enterChat}\n                />\n            ))}\n        </ScrollView>\n      </SafeAreaView>\n    );\n}\n\nexport default HomeScreen;\n\nconst styles = StyleSheet.create({\n    container: {\n        height: '100%',\n    },\n    userName: {\n        flexDirection: \"row\",\n        color: \"white\",\n        fontWeight: \"600\",\n        fontSize: 39,\n        alignSelf: \"center\",\n        marginStart: 10,\n        justifyContent: \"center\"\n    }\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}